@model IEnumerable<gpxViewer.Models.GpxRoute>
@{
    ViewBag.Title = "Home Page";
}

@{
    var at = "@";
}

@section scripts {
    <script src="https://unpkg.com/@(at)mapbox/mapbox-sdk/umd/mapbox-sdk.min.js"></script>
    <script type='text/javascript' src='~/config.js'></script>
    <script src="~/Scripts/Site.js" type="text/javascript"></script>
}


<div class="row" id="mainRow">
    <div class="col-lg-2">
        <form method="post" enctype="multipart/form-data" asp-controller="Data" asp-action="ImportAdditionalCodes">
            <div id="uploadFileDiv" class="form-group">
                <label id="chooseFile" for="chooseInput" class="btn btn-primary">@gpxViewer.Resources.Resource.ChooseFile</label>
                <input accept='.gpx' id="chooseInput" type="file" name="file" style="display: none">
                <label class="bold" id="fileNameLabel"></label>
            </div>
            <div id="sendDiv" class="form-group">
                <input class="btn btn-primary" type="submit" value="@gpxViewer.Resources.Resource.Send">
                <div class="bold" id="tempData">@TempData["Message"]</div>
            </div>
        </form>
    </div>

    <div class="col-lg-8">
        @foreach (var item in Model)
        {
        <div class="activityContainer">
            <h2>@Html.DisplayFor(modelItem => item.Name)</h2>
            <div><img id="staticMap" src="@Html.DisplayFor(modelItem => item.MapUrl)" alt="Mapbox static map" /></div>
            <div id="activityStats">
                <div class="activityRow">
                    <div class="activityColumn">
                        <p class="bold"> @gpxViewer.Resources.Resource.Distance: <div class="inline"> @Html.DisplayFor(modelItem => item.Distance)</div> </p>
                    </div>
                    <div class="activityColumn">
                        <p class="bold"> @gpxViewer.Resources.Resource.Time: <div class="inline">@Html.DisplayFor(modelItem => item.Time)</div></p>
                    </div>
                    <div class="activityColumn">
                        <p class="bold"> @gpxViewer.Resources.Resource.Elevation: <div class="inline">@Html.DisplayFor(modelItem => item.Elevation)</div></p>
                    </div>
                </div>


            </div>
            <div>
                @Html.ActionLink(@gpxViewer.Resources.Resource.Details, "Details", "GpxRoutes", new { id = item.Id }, new { @class = "btn btn-primary" })
            </div>
            </div>
            }
        </div>

    <div class="col-lg-2">
        <div id="statisticsDiv">
            <p><h4>@gpxViewer.Resources.Resource.Statistics:</h4></p>
            <p>@gpxViewer.Resources.Resource.Rides:</p>
            <p>@gpxViewer.Resources.Resource.Distance:</p>
            <p>@gpxViewer.Resources.Resource.Time:</p>
            <p>@gpxViewer.Resources.Resource.Elevation:</p>
        </div>

    </div>
</div>